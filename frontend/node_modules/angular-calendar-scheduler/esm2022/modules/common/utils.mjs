import { MINUTES_IN_HOUR } from '../scheduler/utils/calendar-scheduler-utils';
export function addPeriod(dateAdapter, period, date, amount) {
    return {
        day: dateAdapter.addDays,
        week: dateAdapter.addWeeks,
        month: dateAdapter.addMonths
    }[period](date, amount);
}
export function subPeriod(dateAdapter, period, date, amount) {
    return {
        day: dateAdapter.subDays,
        week: dateAdapter.subWeeks,
        month: dateAdapter.subMonths
    }[period](date, amount);
}
export function startOfPeriod(dateAdapter, period, date) {
    return {
        day: dateAdapter.startOfDay,
        week: dateAdapter.startOfWeek,
        month: dateAdapter.startOfMonth
    }[period](date);
}
export function endOfPeriod(dateAdapter, period, date) {
    return {
        day: dateAdapter.endOfDay,
        week: dateAdapter.endOfWeek,
        month: dateAdapter.endOfMonth
    }[period](date);
}
export const trackByDayOrEvent = (index, event) => (event.event.id ? event.event.id : event.event);
export const trackByHourColumn = (index, day) => day.hours[0] ? day.hours[0].segments[0].date.toISOString() : day;
export const trackByHour = (index, hour) => hour.segments[0].date.toISOString();
export const trackByHourSegment = (index, segment) => segment.date.toISOString();
export function getMinimumEventHeightInMinutes(hourSegments, hourSegmentHeight) {
    return (MINUTES_IN_HOUR / (hourSegments * hourSegmentHeight)) * hourSegmentHeight;
}
export function getDefaultEventEnd(dateAdapter, event, minimumMinutes) {
    return event.end ? event.end : dateAdapter.addMinutes(event.start, minimumMinutes);
}
export function roundToNearest(amount, precision) {
    return Math.round(amount / precision) * precision;
}
export function getMinutesMoved(movedY, hourSegments, hourSegmentHeight, eventSnapSize) {
    const draggedInPixelsSnapSize = roundToNearest(movedY, eventSnapSize || hourSegmentHeight);
    const pixelAmountInMinutes = MINUTES_IN_HOUR / (hourSegments * hourSegmentHeight);
    return draggedInPixelsSnapSize * pixelAmountInMinutes;
}
export function isDraggedWithinPeriod(newStart, newEnd, period) {
    const end = newEnd || newStart;
    return ((period.start <= newStart && newStart <= period.end) ||
        (period.start <= end && end <= period.end));
}
export function shouldFireDroppedEvent(dropEvent, date, calendarId) {
    return (dropEvent.dropData &&
        dropEvent.dropData.event &&
        dropEvent.dropData.calendarId !== calendarId);
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXRpbHMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9saWIvbW9kdWxlcy9jb21tb24vdXRpbHMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBZUEsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLDZDQUE2QyxDQUFDO0FBRTlFLE1BQU0sVUFBVSxTQUFTLENBQUMsV0FBd0IsRUFBRSxNQUFvQixFQUFFLElBQVUsRUFBRSxNQUFjO0lBQ2hHLE9BQU87UUFDSCxHQUFHLEVBQUUsV0FBVyxDQUFDLE9BQU87UUFDeEIsSUFBSSxFQUFFLFdBQVcsQ0FBQyxRQUFRO1FBQzFCLEtBQUssRUFBRSxXQUFXLENBQUMsU0FBUztLQUMvQixDQUFDLE1BQU0sQ0FBQyxDQUFDLElBQUksRUFBRSxNQUFNLENBQUMsQ0FBQztBQUM1QixDQUFDO0FBRUQsTUFBTSxVQUFVLFNBQVMsQ0FBQyxXQUF3QixFQUFFLE1BQW9CLEVBQUUsSUFBVSxFQUFFLE1BQWM7SUFDaEcsT0FBTztRQUNILEdBQUcsRUFBRSxXQUFXLENBQUMsT0FBTztRQUN4QixJQUFJLEVBQUUsV0FBVyxDQUFDLFFBQVE7UUFDMUIsS0FBSyxFQUFFLFdBQVcsQ0FBQyxTQUFTO0tBQy9CLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxFQUFFLE1BQU0sQ0FBQyxDQUFDO0FBQzVCLENBQUM7QUFFRCxNQUFNLFVBQVUsYUFBYSxDQUFDLFdBQXdCLEVBQUUsTUFBb0IsRUFBRSxJQUFVO0lBQ3BGLE9BQU87UUFDSCxHQUFHLEVBQUUsV0FBVyxDQUFDLFVBQVU7UUFDM0IsSUFBSSxFQUFFLFdBQVcsQ0FBQyxXQUFXO1FBQzdCLEtBQUssRUFBRSxXQUFXLENBQUMsWUFBWTtLQUNsQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQ3BCLENBQUM7QUFFRCxNQUFNLFVBQVUsV0FBVyxDQUFDLFdBQXdCLEVBQUUsTUFBb0IsRUFBRSxJQUFVO0lBQ2xGLE9BQU87UUFDSCxHQUFH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LFFBQVE7UUFDbEIsU0FBUyxDQUFDLFFBQVEsQ0FBQyxLQUFLO1FBQ3hCLFNBQVMsQ0FBQyxRQUFRLENBQUMsVUFBVSxLQUFLLFVBQVUsQ0FDL0MsQ0FBQztBQUNOLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xyXG4gICAgU2NoZWR1bGVyVmlld1BlcmlvZCxcclxuICAgIFNjaGVkdWxlclZpZXdFdmVudCxcclxuICAgIFNjaGVkdWxlclZpZXdEYXksXHJcbiAgICBDYWxlbmRhclNjaGVkdWxlckV2ZW50LFxyXG4gICAgU2NoZWR1bGVyVmlld0hvdXIsXHJcbiAgICBTY2hlZHVsZXJWaWV3SG91clNlZ21lbnRcclxufSBmcm9tICcuLi9zY2hlZHVsZXIvbW9kZWxzJztcclxuaW1wb3J0IHtcclxuICAgIFdlZWtWaWV3SG91clxyXG59IGZyb20gJ2NhbGVuZGFyLXV0aWxzJztcclxuaW1wb3J0IHtcclxuICAgIENhbGVuZGFyVmlldyxcclxuICAgIERhdGVBZGFwdGVyXHJcbn0gZnJvbSAnYW5ndWxhci1jYWxlbmRhcic7XHJcbmltcG9ydCB7IE1JTlVURVNfSU5fSE9VUiB9IGZyb20gJy4uL3NjaGVkdWxlci91dGlscy9jYWxlbmRhci1zY2hlZHVsZXItdXRpbHMnO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGFkZFBlcmlvZChkYXRlQWRhcHRlcjogRGF0ZUFkYXB0ZXIsIHBlcmlvZDogQ2FsZW5kYXJWaWV3LCBkYXRlOiBEYXRlLCBhbW91bnQ6IG51bWJlcik6IERhdGUge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBkYXk6IGRhdGVBZGFwdGVyLmFkZERheXMsXHJcbiAgICAgICAgd2VlazogZGF0ZUFkYXB0ZXIuYWRkV2Vla3MsXHJcbiAgICAgICAgbW9udGg6IGRhdGVBZGFwdGVyLmFkZE1vbnRoc1xyXG4gICAgfVtwZXJpb2RdKGRhdGUsIGFtb3VudCk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzdWJQZXJpb2QoZGF0ZUFkYXB0ZXI6IERhdGVBZGFwdGVyLCBwZXJpb2Q6IENhbGVuZGFyVmlldywgZGF0ZTogRGF0ZSwgYW1vdW50OiBudW1iZXIpOiBEYXRlIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgZGF5OiBkYXRlQWRhcHRlci5zdWJEYXlzLFxyXG4gICAgICAgIHdlZWs6IGRhdGVBZGFwdGVyLnN1YldlZWtzLFxyXG4gICAgICAgIG1vbnRoOiBkYXRlQWRhcHRlci5zdWJNb250aHNcclxuICAgIH1bcGVyaW9kXShkYXRlLCBhbW91bnQpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc3RhcnRPZlBlcmlvZChkYXRlQWRhcHRlcjogRGF0ZUFkYXB0ZXIsIHBlcmlvZDogQ2FsZW5kYXJWaWV3LCBkYXRlOiBEYXRlKTogRGF0ZSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGRheTogZGF0ZUFkYXB0ZXIuc3RhcnRPZkRheSxcclxuICAgICAgICB3ZWVrOiBkYXRlQWRhcHRlci5zdGFydE9mV2VlayxcclxuICAgICAgICBtb250aDogZGF0ZUFkYXB0ZXIuc3RhcnRPZk1vbnRoXHJcbiAgICB9W3BlcmlvZF0oZGF0ZSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBlbmRPZlBlcmlvZChkYXRlQWRhcHRlcjogRGF0ZUFkYXB0ZXIsIHBlcmlvZDogQ2FsZW5kYXJWaWV3LCBkYXRlOiBEYXRlKTogRGF0ZSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGRheTogZGF0ZUFkYXB0ZXIuZW5kT2ZEYXksXHJcbiAgICAgICAgd2VlazogZGF0ZUFkYXB0ZXIuZW5kT2ZXZWVrLFxyXG4gICAgICAgIG1vbnRoOiBkYXRlQWRhcHRlci5lbmRPZk1vbnRoXHJcbiAgICB9W3BlcmlvZF0oZGF0ZSk7XHJcbn1cclxuXHJcblxyXG5leHBvcnQgY29uc3QgdHJhY2tCeURheU9yRXZlbnQgPSAoaW5kZXg6IG51bWJlciwgZXZlbnQ6IFNjaGVkdWxlclZpZXdFdmVudCApID0+XHJcbiAgICAoZXZlbnQuZXZlbnQuaWQgPyBldmVudC5ldmVudC5pZCA6IGV2ZW50LmV2ZW50KTtcclxuXHJcbmV4cG9ydCBjb25zdCB0cmFja0J5SG91ckNvbHVtbiA9IChpbmRleDogbnVtYmVyLCBkYXk6IFNjaGVkdWxlclZpZXdEYXkpID0+XHJcbiAgICBkYXkuaG91cnNbMF0gPyBkYXkuaG91cnNbMF0uc2VnbWVudHNbMF0uZGF0ZS50b0lTT1N0cmluZygpIDogZGF5O1xyXG5cclxuZXhwb3J0IGNvbnN0IHRyYWNrQnlIb3VyID0gKGluZGV4OiBudW1iZXIsIGhvdXI6IFdlZWtWaWV3SG91ciB8IFNjaGVkdWxlclZpZXdIb3VyKSA9PlxyXG4gICAgaG91ci5zZWdtZW50c1swXS5kYXRlLnRvSVNPU3RyaW5nKCk7XHJcblxyXG5leHBvcnQgY29uc3QgdHJhY2tCeUhvdXJTZWdtZW50ID0gKGluZGV4OiBudW1iZXIsIHNlZ21lbnQ6IFNjaGVkdWxlclZpZXdIb3VyU2VnbWVudCkgPT5cclxuICAgIHNlZ21lbnQuZGF0ZS50b0lTT1N0cmluZygpO1xyXG5cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRNaW5pbXVtRXZlbnRIZWlnaHRJbk1pbnV0ZXMoaG91clNlZ21lbnRzOiBudW1iZXIsIGhvdXJTZWdtZW50SGVpZ2h0OiBudW1iZXIpIHtcclxuICAgIHJldHVybiAoTUlOVVRFU19JTl9IT1VSIC8gKGhvdXJTZWdtZW50cyAqIGhvdXJTZWdtZW50SGVpZ2h0KSkgKiBob3VyU2VnbWVudEhlaWdodDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldERlZmF1bHRFdmVudEVuZChkYXRlQWRhcHRlcjogRGF0ZUFkYXB0ZXIsIGV2ZW50OiBDYWxlbmRhclNjaGVkdWxlckV2ZW50LCBtaW5pbXVtTWludXRlczogbnVtYmVyKTogRGF0ZSB7XHJcbiAgICByZXR1cm4gZXZlbnQuZW5kID8gZXZlbnQuZW5kIDogZGF0ZUFkYXB0ZXIuYWRkTWludXRlcyhldmVudC5zdGFydCwgbWluaW11bU1pbnV0ZXMpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcm91bmRUb05lYXJlc3QoYW1vdW50OiBudW1iZXIsIHByZWNpc2lvbjogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgIHJldHVybiBNYXRoLnJvdW5kKGFtb3VudCAvIHByZWNpc2lvbikgKiBwcmVjaXNpb247XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRNaW51dGVzTW92ZWQobW92ZWRZOiBudW1iZXIsIGhvdXJTZWdtZW50czogbnVtYmVyLCBob3VyU2VnbWVudEhlaWdodDogbnVtYmVyLCBldmVudFNuYXBTaXplOiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgY29uc3QgZHJhZ2dlZEluUGl4ZWxzU25hcFNpemUgPSByb3VuZFRvTmVhcmVzdChtb3ZlZFksIGV2ZW50U25hcFNpemUgfHwgaG91clNlZ21lbnRIZWlnaHQpO1xyXG4gICAgY29uc3QgcGl4ZWxBbW91bnRJbk1pbnV0ZXMgPSBNSU5VVEVTX0lOX0hPVVIgLyAoaG91clNlZ21lbnRzICogaG91clNlZ21lbnRIZWlnaHQpO1xyXG4gICAgcmV0dXJuIGRyYWdnZWRJblBpeGVsc1NuYXBTaXplICogcGl4ZWxBbW91bnRJbk1pbnV0ZXM7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc0RyYWdnZWRXaXRoaW5QZXJpb2QobmV3U3RhcnQ6IERhdGUsIG5ld0VuZDogRGF0ZSwgcGVyaW9kOiBTY2hlZHVsZXJWaWV3UGVyaW9kKTogYm9vbGVhbiB7XHJcbiAgICBjb25zdCBlbmQgPSBuZXdFbmQgfHwgbmV3U3RhcnQ7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICAgIChwZXJpb2Quc3RhcnQgPD0gbmV3U3RhcnQgJiYgbmV3U3RhcnQgPD0gcGVyaW9kLmVuZCkgfHxcclxuICAgICAgICAocGVyaW9kLnN0YXJ0IDw9IGVuZCAmJiBlbmQgPD0gcGVyaW9kLmVuZClcclxuICAgICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzaG91bGRGaXJlRHJvcHBlZEV2ZW50KGRyb3BFdmVudDogeyBkcm9wRGF0YT86IHsgZXZlbnQ/OiBDYWxlbmRhclNjaGVkdWxlckV2ZW50OyBjYWxlbmRhcklkPzogc3ltYm9sIH0gfSwgZGF0ZTogRGF0ZSwgY2FsZW5kYXJJZDogc3ltYm9sKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICAgIGRyb3BFdmVudC5kcm9wRGF0YSAmJlxyXG4gICAgICAgIGRyb3BFdmVudC5kcm9wRGF0YS5ldmVudCAmJlxyXG4gICAgICAgIGRyb3BFdmVudC5kcm9wRGF0YS5jYWxlbmRhcklkICE9PSBjYWxlbmRhcklkXHJcbiAgICApO1xyXG59XHJcbiJdfQ==